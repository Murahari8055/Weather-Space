<div class="post-form-container">
  <h3>Share your weather experience</h3>
  <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="post-form">
    <div class="form-group">
      <textarea
        formControlName="content"
        placeholder="What's the weather like where you are?"
        rows="3"
        maxlength="500"
      ></textarea>
      <small>{{ postForm.get('content')?.value?.length || 0 }}/500</small>
    </div>

    <div class="form-group">
      <input
        type="text"
        formControlName="location"
        placeholder="Location (optional)"
      >
    </div>

    <div class="form-group">
      <input
        type="file"
        (change)="onFileSelected($event)"
        accept="image/*,video/*"
        #fileInput
      >
      <small>Upload an image or video (optional)</small>
    </div>

    <button
      type="submit"
      [disabled]="!postForm.valid || isSubmitting"
      class="submit-button"
    >
      {{ isSubmitting ? 'Posting...' : 'Post' }}
    </button>
  </form>
</div>
